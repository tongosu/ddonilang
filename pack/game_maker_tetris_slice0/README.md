# pack/game_maker_tetris_slice0

테트리스 “빠른 길”을 위한 Slice0 D-PACK입니다.

- W16 종료 목표: **재생 테트리스** (녹화된 입력테이프 재생 + 웹 스프라이트/텍스트 표시)
- W17 종료 목표: **플레이 테트리스** (키보드 입력 기록 + 같은 테이프 리플레이 동일)

## 구성(초안)
- input.ddn : 테트리스 Slice0 시나리오(최소)
- sam/tetris_slice0.input.bin : (초기) 녹화 입력(없으면 placeholder)
- skin/tetris_skin_v1.detjson : 심볼키 → 글자/이미지 매핑
- golden/*.test.json : state_hash 고정(placeholder부터)

> 해시 값은 `<FILL_ME_...>`로 먼저 고정하고, 구현이 붙으면 채웁니다.

입력은 `샘.키보드.누르고있음.<키>`를 0/1 숫자로 받아 좌우/하강을 계산합니다.
샘 입력을 쓰는 스크립트이므로 실행 시 `--sam`/`--sam-live` 또는 `--record-sam`이 필요합니다.

## 키 매핑(스켈레톤)
- 왼쪽화살표/ArrowLeft, 오른쪽화살표/ArrowRight: 좌/우 이동
- 아래쪽화살표/ArrowDown: 소프트 드롭
- 위쪽화살표/ArrowUp: 회전(시계)
- Z키/KeyZ: 회전(반시계)
- X키/KeyX: 홀드(한 조각당 1회 제한)
- 스페이스/Space: 하드 드롭

## 상태 모델(초기 스켈레톤)
- 보드: `보드_가로=10`, `보드_세로=20`, `셀=16`
- 보드 문자열: `보드`는 `.`(빈칸)과 `I/O/T/S/Z/J/L` 블록 문자로 이루어진 길이 200 문자열
- 조각: `조각_id`, `조각_x`, `조각_y`, `조각_회전`
- 큐: `다음_id`, `홀드_id`, `홀드_사용됨`
- 낙하: `낙하_주기`, `낙하_카운트`
- 점수: `점수`, `획득_점수`
- 라인 연출: `라인_연출_카운트`, `라인_연출_텍스트`

> 현재 스켈레톤은 `tetris_*` 내장 함수로 충돌/라인삭제 스켈레톤을 포함합니다.
> 정식 고정 규칙(락 딜레이/회전 킥)은 후속 단계에서 추가합니다.

## 라인삭제/점수 규칙
- 1줄: +100, 2줄: +300, 3줄: +500, 4줄: +800
- 라인삭제가 발생하면 `라인_연출_텍스트`에 `CLEAR N +점수`가 잠시 표시됩니다.
