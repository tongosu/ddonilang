<!doctype html>
<html lang="ko">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <title>셈그림</title>
    <link rel="icon" href="data:," />
    <link rel="stylesheet" href="./styles.css" />
  </head>
  <body>
    <div id="app">
      <section id="screen-browse" class="screen">
        <header class="topbar">
          <span class="brand">셈그림</span>
          <button id="btn-advanced-browse" class="ghost" type="button">⚙</button>
        </header>

        <div class="browse-tabs">
          <button class="browse-tab active" data-tab="official" type="button">★ 공식 교과</button>
          <button class="browse-tab" data-tab="search" type="button">🔍 검색</button>
          <button class="browse-tab" type="button" disabled title="AGE5">커뮤니티</button>
          <button id="btn-create" class="btn-primary" type="button">+ 만들기</button>
        </div>

        <div class="browse-filters">
          <select id="filter-grade">
            <option value="">학년: 전체</option>
          </select>
          <select id="filter-subject">
            <option value="">과목: 전체</option>
          </select>
          <select id="filter-quality">
            <option value="">품질: 전체</option>
            <option value="recommended">품질: 추천</option>
            <option value="reviewed">품질: 검수완료</option>
            <option value="experimental">품질: 실험용</option>
          </select>
          <select id="filter-run-status">
            <option value="">최근 실행: 전체</option>
            <option value="success">최근 실행: 성공</option>
            <option value="error">최근 실행: 실패</option>
            <option value="none">최근 실행: 미실행</option>
          </select>
          <select id="filter-sort">
            <option value="recent">정렬: 최근 실행순</option>
            <option value="default">정렬: 기본</option>
          </select>
          <input id="filter-query" type="text" placeholder="검색어 입력..." />
        </div>

        <div id="lesson-card-grid" class="card-grid"></div>
      </section>

      <section id="screen-editor" class="screen hidden">
        <header class="topbar">
          <button id="btn-back-to-browse" class="ghost" type="button">← 탐색</button>
          <span class="screen-title" id="editor-title">DDN 편집</span>
          <div class="editor-actions">
            <button id="btn-run-from-editor" class="btn-primary" type="button">▶ 실행</button>
            <button id="btn-save-ddn" class="ghost" type="button">↓ 저장</button>
            <button id="btn-advanced-editor" class="ghost" type="button">⚙</button>
          </div>
        </header>

        <div id="ddn-editor-area">
          <textarea id="ddn-textarea" spellcheck="false"></textarea>
        </div>

        <div id="editor-smoke-result" class="hint"></div>
      </section>

      <section id="screen-run" class="screen hidden">
        <header class="topbar run-topbar">
          <button id="btn-back-run" class="ghost" type="button">← 탐색</button>
          <button id="btn-edit-ddn" class="ghost" type="button">✏ DDN</button>
          <span id="run-lesson-title" class="lesson-title-display">-</span>
          <span id="run-last-summary" class="run-last-summary">최근 실행: 기록 없음</span>
          <button id="btn-overlay-toggle" class="ghost" type="button">설명</button>
          <button id="btn-advanced-run" class="ghost" type="button">⚙</button>
        </header>

        <div class="run-layout">
          <div class="bogae-area">
            <canvas id="canvas-bogae"></canvas>
            <div id="overlay-description" class="overlay-desc hidden"></div>
          </div>

          <div class="dotbogi-panel">
            <div id="dotbogi-graph" class="panel-content">
              <div class="graph-toolbar">
                <label for="select-x-axis">x축</label>
                <select id="select-x-axis"></select>
                <label for="select-y-axis">y축</label>
                <select id="select-y-axis"></select>
              </div>
              <canvas id="canvas-graph"></canvas>
            </div>

            <div id="slider-panel" class="slider-panel">
              <div id="slider-status" class="hint">control: -</div>
              <div id="slider-list"></div>
              <button id="btn-restart" class="btn-primary" type="button">▶ 재실행</button>
            </div>
          </div>
        </div>

      </section>

      <div id="advanced-menu" class="advanced-menu hidden">
        <button id="advanced-smoke" type="button">Smoke 검증</button>
        <button type="button" class="age-slot" disabled>A 실시간 입력</button>
        <button type="button" class="age-slot" disabled>B 꾸러미 브라우저</button>
        <button type="button" class="age-slot" disabled>C 3D 렌더</button>
      </div>
    </div>

    <script type="module" src="./app.js"></script>
  </body>
</html>
